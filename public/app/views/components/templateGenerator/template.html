
<div id="templateGenerator">
  <div class="row">
    <div id="templateGeneratorHeader" class="col-xs-12 rown"><a ng-href="#/mailGenerator">
        <button type="button" class="btn btn-success col-xs-1"> Back</button></a>
      <button type="button" ng-click="newTemplate()" class="btn btn-success col-xs-1"> New</button>
      <h3 class="col-xs-5 col-xs-offset-2">Mail template generator</h3>
      <button type="button" data-toggle="modal" data-target="#saveTemplate" class="btn btn-success col-xs-1 col-xs-offset-1">Save</button>
    </div>
  </div>
  <div class="row">
    <div id="templateGeneratorToolbar" class="col-xs-1">
      <ul id="mobileList">
        <li>
          <button type="button" style="background-image: url(app/img/icons/h1.png)" ng-click="createTextElement(&quot;h1&quot;)"></button>
        </li>
        <li>
          <button type="button" style="background-image: url(app/img/icons/h2.png)" ng-click="createTextElement(&quot;h2&quot;)"></button>
        </li>
        <li>
          <button type="button" style="background-image: url(app/img/icons/h3.png)" ng-click="createTextElement(&quot;h3&quot;)"></button>
        </li>
        <li>
          <button type="button" style="background-image: url(app/img/icons/text.png)" ng-click="createTextElement(&quot;p&quot;)"></button>
        </li>
        <li>
          <button type="button" style="background-image: url(app/img/icons/img.png)" onclick="$('#askForImg').modal('show')"></button>
        </li>
      </ul>
    </div>
    <div id="templateGeneratorBody" gridster="gridsterOpts" class="col-xs-11">
      <input id="img" type="file" style="display: none;"/>
      <ul>
        <li gridster-item="element" ng-repeat="element in elementList" data-gridsterId="{{element.gridsterId}}" data-innerBrNodes="{{element.innerBrNodes}}" class="widgetContainer"><span ng-click="deleteItem($index)" class="fa fa-trash trashIcon"></span><span ng-mousedown="gridsterOpts.draggable.enabled = true" ng-mouseup="gridsterOpts.draggable.enabled = false" ng-mouseleave="gridsterOpts.draggable.enabled = false" class="fa fa-arrows fa-lg arrowIcon"></span>
          <div ng-click="openTinymce($event)" ng-resizable="ng-resizable" class="tinymceContainer"> 
            <h1 ng-if="element.type === &quot;h1&quot; " class="widgetContent">Big title</h1>
            <h2 ng-if="element.type === &quot;h2&quot;" class="widgetContent">Middle title</h2>
            <h3 ng-if="element.type === &quot;h3&quot;" ng-init="implementTinymce(tinyMceTextOpts)" ng-blur="destroyTinyMce()" class="widgetContent">Small title</h3>
            <p ng-if="element.type === &quot;p&quot;" ng-init="implementTinymce(tinyMceTextOpts)" ng-blur="destroyTinyMce()" class="widgetContent">Paragraph</p>
          </div><img ng-if="element.type === &quot;img&quot;" style="background-image: url({{element.src}});" class="widgetContent imageOnWidget"/><a ng-if="element.type === &quot;a&quot;" ng-href="{{element.href}}" class="widgetContent">{{element.text}}</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- Modal window for save a template-->
<div id="saveTemplate" ng-keydown="saveOnEnter($event)" class="modal fade">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" data-dismiss="modal" aria-label="close" class="close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Save Template</h4>
      </div>
      <div class="modal-body"></div>
      <form name="saveTemplateForm" class="form-horizontal">
        <div ng-class=" { 'has-error' : saveTemplateForm.name_template.$invalid &amp;&amp; saveTemplateForm.name_template.$dirty, 'has-success' : saveTemplateForm.name_template.$valid} " class="form-group has-feedback">
          <label for="nameTemplate" class="col-sm-2 control-label">Template name:</label>
          <div class="col-sm-8">
            <input id="nameTemplate" type="text" ng-model="name_template" name="name_template" placeholder="Name of the Template" ng-pattern="/^[a-zA-ZáéíóúÁÉÍÓÚñÑ0-9][a-zA-ZáéíóúÁÉÍÓÚñÑ0-9 ]{3,50}$/" autofocus="autofocus" required="required" class="form-control"/><span ng-class="{'glyphicon-ok' : saveTemplateForm.name_template.$valid, 'glyphicon-remove' : saveTemplateForm.name_template.$invalid &amp;&amp; saveTemplateForm.name_template.$dirty}" class="glyphicon form-control-feedback"></span>
          </div>
        </div>
      </form>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-warning">Close</button>
        <button type="button" ng-click="saveTemplate()" ng-disabled="validateTemForm()" class="btn btn-success">Save</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal window for asking for a image-->
<div id="askForImg" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" data-dismiss="modal" aria-label="close" class="close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Image settings</h4>
      </div>
      <div class="modal-body">
        <div ng-file-reader="ng-file-reader" on-readed="onReaded(event, file)" read-method="readMethod" multiple="multiple"></div>
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-warning">Close</button>
        <button type="button" data-dismiss="modal" class="btn btn-warning">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal window for a new variable-->
<div id="setVariables" style="z-index: 999999;" class="modal fade">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" data-dismiss="modal" aria-label="close" class="close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Set Variable</h4>
      </div>
      <div class="modal-body"></div>
      <form name="setVariableForm" class="form-horizontal">
        <div class="form-group">
          <label for="variableName" class="col-sm-2 control-label">Variable Name:</label>
          <div class="col-sm-8">
            <input id="variableName" type="text" ng-model="variableName" name="variableName" placeholder="Name of the Variable" autofocus="autofocus" class="form-control"/>
          </div>
        </div>
      </form>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-warning">Close</button>
        <button type="button" ng-click="escribirVariable()" class="btn btn-success">Set</button>
      </div>
    </div>
  </div>
</div>